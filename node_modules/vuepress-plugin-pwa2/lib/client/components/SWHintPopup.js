import{defineComponent as i,ref as r,onMounted as p,h as n,Transition as s}from"vue";import{useLocaleConfig as d}from"vuepress-shared/client";import{l as v,U as c}from"../define-3fd15ee3.js";import"../styles/popup.scss";import{u as m}from"../usePWAEvent-f118b552.js";var f=i({name:"SWHintPopup",setup(b,{slots:a}){const u=d(v),o=r(!1),t=()=>{o.value&&(window.location.reload(!0),o.value=!1)};return p(()=>{const e=m();e.on("updatefound",()=>{navigator.serviceWorker.getRegistration().then(l=>{l&&l.active&&(o.value=!0)})}),e.on("updated",()=>{o.value=!1})}),()=>n(s,{name:"popup"},()=>{var e;return((e=a.default)==null?void 0:e.call(a,{enabled:o.value,uninstall:t}))||(o.value?n("button",{type:"button",class:"sw-hint-popup",tabindex:0,onClick:()=>t()},[u.value.hint,n("span",{class:"icon-wrapper"},n(c))]):null)})}});export{f as default};
//# sourceMappingURL=SWHintPopup.js.map
