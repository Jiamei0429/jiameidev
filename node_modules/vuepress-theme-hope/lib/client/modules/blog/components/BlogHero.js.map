{"version":3,"file":"BlogHero.js","sourceRoot":"","sources":["../../../../../src/client/modules/blog/components/BlogHero.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  usePageFrontmatter,\n  usePageHeadTitle,\n  withBase,\n} from \"@vuepress/client\";\nimport { isString } from \"@vuepress/shared\";\nimport { type VNode, computed, defineComponent, h, ref } from \"vue\";\n\nimport DropTransition from \"@theme-hope/components/transitions/DropTransition\";\n\nimport { SlideDownIcon } from \"./icons/icons.js\";\nimport { type ThemeBlogHomePageFrontmatter } from \"../../../../shared/index.js\";\nimport defaultHeroBgImagePath from \"../assets/hero.jpg\";\n\nimport \"../styles/blog-hero.scss\";\n\nexport default defineComponent({\n  name: \"BlogHero\",\n\n  setup(_props, { slots }) {\n    const title = usePageHeadTitle();\n    const frontmatter = usePageFrontmatter<ThemeBlogHomePageFrontmatter>();\n\n    const hero = ref<HTMLElement>();\n\n    const isFullScreen = computed(\n      () => frontmatter.value.heroFullScreen ?? false\n    );\n\n    const heroInfo = computed(() => {\n      const {\n        heroText,\n        heroImage,\n        heroImageDark,\n        heroAlt,\n        heroImageStyle,\n        tagline = null,\n      } = frontmatter.value;\n\n      return {\n        text: heroText === false ? null : heroText || title.value,\n        image: heroImage ? withBase(heroImage) : null,\n        imageDark: heroImageDark ? withBase(heroImageDark) : null,\n        heroStyle: heroImageStyle,\n        alt: heroAlt || \"hero image\",\n        tagline,\n        isFullScreen: isFullScreen.value,\n      };\n    });\n\n    const bgInfo = computed(() => {\n      const { bgImage, bgImageStyle } = frontmatter.value;\n\n      return {\n        image: isString(bgImage)\n          ? withBase(bgImage)\n          : bgImage === false\n          ? null\n          : defaultHeroBgImagePath,\n        bgStyle: bgImageStyle,\n        isFullScreen: isFullScreen.value,\n      };\n    });\n\n    return (): VNode | null =>\n      frontmatter.value.hero === false\n        ? null\n        : h(\n            \"div\",\n            {\n              ref: hero,\n              class: [\n                \"blog-hero\",\n                {\n                  fullscreen: isFullScreen.value,\n                  \"no-bg\": !bgInfo.value.image,\n                },\n              ],\n            },\n            [\n              slots[\"heroBg\"]?.(bgInfo.value) ||\n                (bgInfo.value.image\n                  ? h(\"div\", {\n                      class: \"mask\",\n                      style: [\n                        {\n                          background: `url(${bgInfo.value.image}) center/cover no-repeat`,\n                        },\n                        bgInfo.value.bgStyle,\n                      ],\n                    })\n                  : null),\n              slots[\"heroInfo\"]?.(heroInfo.value) || [\n                h(\n                  DropTransition,\n                  { appear: true, type: \"group\", delay: 0.04 },\n                  () => [\n                    heroInfo.value.image\n                      ? h(\"img\", {\n                          key: \"light\",\n                          class: [\n                            \"hero-image\",\n                            { light: heroInfo.value.imageDark },\n                          ],\n                          style: heroInfo.value.heroStyle,\n                          src: heroInfo.value.image,\n                          alt: heroInfo.value.alt,\n                        })\n                      : null,\n                    heroInfo.value.imageDark\n                      ? h(\"img\", {\n                          key: \"dark\",\n                          class: \"hero-image dark\",\n                          style: heroInfo.value.heroStyle,\n                          src: heroInfo.value.imageDark,\n                          alt: heroInfo.value.alt,\n                        })\n                      : null,\n                  ]\n                ),\n                h(DropTransition, { appear: true, delay: 0.08 }, () =>\n                  heroInfo.value.text ? h(\"h1\", heroInfo.value.text) : null\n                ),\n                h(DropTransition, { appear: true, delay: 0.12 }, () =>\n                  heroInfo.value.tagline\n                    ? h(\"p\", {\n                        class: \"description\",\n                        innerHTML: heroInfo.value.tagline,\n                      })\n                    : null\n                ),\n              ],\n              heroInfo.value.isFullScreen\n                ? h(\n                    \"button\",\n                    {\n                      type: \"button\",\n                      class: \"slide-down-button\",\n                      onClick: () => {\n                        window.scrollTo({\n                          top: hero.value!.clientHeight,\n                          behavior: \"smooth\",\n                        });\n                      },\n                    },\n                    [h(SlideDownIcon), h(SlideDownIcon)]\n                  )\n                : null,\n            ]\n          );\n  },\n});\n"]}