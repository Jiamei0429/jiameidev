import{useStorage as y}from"@vueuse/core";import{defineComponent as I,ref as c,onMounted as g,watch as h,h as d}from"vue";import"../styles/tabs.scss";const v=y("VUEPRESS_TAB_STORE",{});var S=I({name:"Tabs",props:{active:{type:Number,default:0},data:{type:Array,required:!0},id:{type:String,required:!0},tabId:{type:String,default:""}},setup(a,{slots:o}){const l=c(a.active),u=c([]),s=()=>{if(a.tabId){const{title:t,id:e=t}=a.data[l.value];v.value[a.tabId]=e}},b=(t=l.value)=>{l.value=t<u.value.length-1?t+1:0,u.value[l.value].focus()},f=(t=l.value)=>{l.value=t>0?t-1:u.value.length-1,u.value[l.value].focus()},p=(t,e)=>{t.key===" "||t.key==="Enter"?(t.preventDefault(),l.value=e):t.key==="ArrowRight"?(t.preventDefault(),b()):t.key==="ArrowLeft"&&(t.preventDefault(),f()),s()},m=()=>{if(a.tabId){const t=a.data.findIndex(({title:e,id:i=e})=>v.value[a.tabId]===i);if(t!==-1)return t}return a.active};return g(()=>{l.value=m(),h(()=>v.value[a.tabId],(t,e)=>{if(a.tabId&&t!==e){const i=a.data.findIndex(({title:r,id:n=r})=>n===t);i!==-1&&(l.value=i)}})}),()=>a.data.length?d("div",{class:"tab-list"},[d("div",{class:"tab-list-nav",role:"tablist"},a.data.map(({title:t},e)=>{const i=e===l.value;return d("button",{type:"button",ref:r=>{r&&(u.value[e]=r)},class:["tab-list-nav-item",{active:i}],role:"tab","aria-controls":`tab-${a.id}-${e}`,"aria-selected":i,onClick:()=>{l.value=e,s()},onKeydown:r=>p(r,e)},t)})),a.data.map(({title:t,id:e=t},i)=>{var r;const n=i===l.value;return d("div",{class:["tab-item",{active:n}],id:`tab-${a.id}-${i}`,role:"tabpanel","aria-expanded":n},(r=o[`tab${i}`])==null?void 0:r.call(o,{title:t,value:e,isActive:n}))})]):null}});export{S as default};
//# sourceMappingURL=Tabs.js.map
