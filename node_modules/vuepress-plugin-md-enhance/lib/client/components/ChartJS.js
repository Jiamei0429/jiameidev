import{defineComponent as p,ref as o,onMounted as d,h as e}from"vue";import{atou as u,LoadingIcon as _}from"vuepress-shared/client";import"../styles/chart.scss";const f=(t,n)=>n==="json"?JSON.parse(t):new Function(`let config,__chart_js_config__;
{
${t}
__chart_js_config__=config;
}
return __chart_js_config__;`)();var g=p({name:"ChartJS",props:{config:{type:String,required:!0},id:{type:String,required:!0},title:{type:String,default:""},type:{type:String,default:"json"}},setup(t){const n=o(),a=o(),i=o(!0);return d(async()=>{const[{default:r}]=await Promise.all([import("chart.js/auto"),new Promise(c=>setTimeout(c,MARKDOWN_ENHANCE_DELAY))]);r.defaults.maintainAspectRatio=!1;const s=f(u(t.config),t.type),l=a.value.getContext("2d");new r(l,s),i.value=!1}),()=>[t.title?e("div",{class:"chart-title"},decodeURIComponent(t.title)):null,i.value?e(_,{class:"chart-loading",height:192}):null,e("div",{ref:n,class:"chart-wrapper",id:t.id,style:{display:i.value?"none":"block"}},e("canvas",{ref:a,height:400}))]}});export{g as default};
//# sourceMappingURL=ChartJS.js.map
