import{useStorage as m}from"@vueuse/core";import{defineComponent as I,ref as s,onMounted as g,watch as h,h as n}from"vue";import"../styles/code-tabs.scss";const o=m("VUEPRESS_CODE_TAB_STORE",{});var S=I({name:"CodeTabs",props:{active:{type:Number,default:0},data:{type:Array,required:!0},id:{type:String,required:!0},tabId:{type:String,default:""}},setup(e,{slots:v}){const l=s(e.active),u=s([]),c=()=>{if(e.tabId){const{title:t,id:a=t}=e.data[l.value];o.value[e.tabId]=a}},b=(t=l.value)=>{l.value=t<u.value.length-1?t+1:0,u.value[l.value].focus()},f=(t=l.value)=>{l.value=t>0?t-1:u.value.length-1,u.value[l.value].focus()},p=(t,a)=>{if(t.key===" "||t.key==="Enter"?(t.preventDefault(),l.value=a):t.key==="ArrowRight"?(t.preventDefault(),b()):t.key==="ArrowLeft"&&(t.preventDefault(),f()),e.tabId){const{title:d,id:i=d}=e.data[l.value];o.value[e.tabId]=i}},y=()=>{if(e.tabId){const t=e.data.findIndex(({title:a,id:d=a})=>o.value[e.tabId]===d);if(t!==-1)return t}return e.active};return g(()=>{l.value=y(),h(()=>o.value[e.tabId],(t,a)=>{if(e.tabId&&t!==a){const d=e.data.findIndex(({title:i,id:r=i})=>r===t);d!==-1&&(l.value=d)}})}),()=>e.data.length?n("div",{class:"code-tabs"},[n("div",{class:"code-tabs-nav",role:"tablist"},e.data.map(({title:t},a)=>{const d=a===l.value;return n("button",{type:"button",ref:i=>{i&&(u.value[a]=i)},class:["code-tabs-nav-tab",{active:d}],role:"tab","aria-controls":`codetab-${e.id}-${a}`,"aria-selected":d,onClick:()=>{l.value=a,c()},onKeydown:i=>p(i,a)},t)})),e.data.map(({title:t,id:a=t},d)=>{var i;const r=d===l.value;return n("div",{class:["code-tab",{active:r}],id:`codetab-${e.id}-${d}`,role:"tabpanel","aria-expanded":r},(i=v[`tab${d}`])==null?void 0:i.call(v,{title:t,value:a,isActive:r}))})]):null}});export{S as default};
//# sourceMappingURL=CodeTabs.js.map
