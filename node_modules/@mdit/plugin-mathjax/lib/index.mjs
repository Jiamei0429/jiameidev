import{createRequire as c}from"node:module";import{tex as f}from"@mdit/plugin-tex";import{AssistiveMmlHandler as l}from"mathjax-full/js/a11y/assistive-mml.js";import{liteAdaptor as x}from"mathjax-full/js/adaptors/liteAdaptor.js";import{RegisterHTMLHandler as h}from"mathjax-full/js/handlers/html.js";import{AllPackages as d}from"mathjax-full/js/input/tex/AllPackages.js";import{TeX as M}from"mathjax-full/js/input/tex.js";import{TeX as V}from"mathjax-full/js/input/tex.js";import{mathjax as p}from"mathjax-full/js/mathjax.js";import{mathjax as b}from"mathjax-full/js/mathjax.js";import{CHTML as s}from"mathjax-full/js/output/chtml.js";import{CHTML as D}from"mathjax-full/js/output/chtml.js";import{SVG as j}from"mathjax-full/js/output/svg.js";import{SVG as U}from"mathjax-full/js/output/svg.js";import v from"upath";const i=t=>({InputJax:new M({packages:d,...t.tex}),OutputJax:t.output==="chtml"?new s({fontURL:v.dirname(c(import.meta.url).resolve("mathjax-full/es5/output/chtml/fonts/woff-v2/MathJax_Zero.woff")),adaptiveCSS:!0,...t.chtml}):new j({fontCache:"none",...t.svg}),enableAssistiveMml:t.a11y!==!1}),H=(t={})=>{const e=i(t),o=x(),m=h(o);t.a11y!==!1&&l(m);const{OutputJax:r,InputJax:n}=e,a=()=>{r instanceof s&&r.clearCache()};return{adaptor:o,documentOptions:e,clearStyle:a,reset:()=>{n.reset()},outputStyle:()=>{const u=o.innerHTML(e.OutputJax.styleSheet(p.document("",e)));return a(),u}}},L=(t,e)=>{const{adaptor:o,documentOptions:m}=e;t.use(f,{render:(r,n)=>{const a=p.document(r,m).convert(r,{display:n});return o.outerHTML(a)}})};export{D as CHTML,b as Mathjax,U as SVG,V as TeX,H as createMathjaxInstance,i as getDocumentOptions,L as mathjax};
//# sourceMappingURL=index.mjs.map
